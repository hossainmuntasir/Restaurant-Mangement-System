<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Online Order</title>
</head>
<body>
    <h1>Place an Order</h1>
    <form action="/submit_online_order" method="POST">
        <label for="customer_name">Customer Name:</label>
        <input type="text" id="customer_name" name="customer_name" required><br>

        <label for="contact">Contact:</label>
        <input type="text" id="contact" name="contact" required><br>

        <label for="order_type">Order Type:</label>
        <select id="order_type" name="order_type" required>
            <option value="pickup">Pickup</option>
            <option value="delivery">Delivery</option>
        </select><br>

        <div id="address_field" style="display: none;">
            <label for="address">Address:</label>
            <input type="text" id="address" name="address"><br>
        </div>

        <h2>Order Items:</h2>
        {% for item in menu %}
            <input type="checkbox" id="item_{{ loop.index }}" name="item" value="{{ item['item'] }}">
            <label for="item_{{ loop.index }}">{{ item['item'] }} - ${{ item['price'] }}</label>
            <input type="number" id="quantity_{{ loop.index }}" name="quantity" min="1" value="1">
            <input type="hidden" name="price_{{ loop.index }}" value="{{ item['price'] }}"><br>
        {% endfor %}

        <button type="submit">Submit Order</button>
    </form>
    <a href="javascript:history.back()">Back to Previous Page</a>

    <script>
        document.getElementById('order_type').addEventListener('change', function() {
            var addressField = document.getElementById('address_field');
            if (this.value === 'delivery') {
                addressField.style.display = 'block';
            } else {
                addressField.style.display = 'none';
            }
        });
    </script>
</body>
</html>
